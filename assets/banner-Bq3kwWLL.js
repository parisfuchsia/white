import{r as u,a as C,j as e,l as D,f as T,m as S,u as A,N as z,n as O}from"./index-D2KmRjDY.js";import{G as U,b as E,a as y}from"./index-GlpO5-qB.js";import{m as p}from"./proxy-lNFMB2EF.js";import{A as w}from"./index-Dk3ny8HH.js";const s=[];for(let t=0;t<256;++t)s.push((t+256).toString(16).slice(1));function R(t,a=0){return(s[t[a+0]]+s[t[a+1]]+s[t[a+2]]+s[t[a+3]]+"-"+s[t[a+4]]+s[t[a+5]]+"-"+s[t[a+6]]+s[t[a+7]]+"-"+s[t[a+8]]+s[t[a+9]]+"-"+s[t[a+10]]+s[t[a+11]]+s[t[a+12]]+s[t[a+13]]+s[t[a+14]]+s[t[a+15]]).toLowerCase()}let h;const F=new Uint8Array(16);function G(){if(!h){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");h=crypto.getRandomValues.bind(crypto)}return h(F)}const H=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),b={randomUUID:H};function B(t,a,r){if(b.randomUUID&&!a&&!t)return b.randomUUID();t=t||{};const l=t.random||(t.rng||G)();return l[6]=l[6]&15|64,l[8]=l[8]&63|128,R(l)}function P({isOpen:t,onClose:a}){const[r,l]=u.useState({}),[g,f]=u.useState(""),o=new Date,[c,j]=u.useState({amount:0,tags:[],desc:"",type:"Income",date:o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate(),time:o.getHours()+":"+o.getMinutes(),id:B()});u.useState([]);const v=C(),m=n=>{const{name:i,value:x}=n.target;j(d=>({...d,[i]:x}))},M=["Food","Travel","Groceries","Salary","Others"],I=n=>{let i={...r},x={...c},d=[...c.tags];const k=d.indexOf(n);k!==-1?d.splice(k,1):d.push(n),x={...x,tags:[...d]},j(x),i={...i,[n]:!i[n]},l(i)},N=async n=>{n.preventDefault();let i=JSON.parse(localStorage.getItem("transactions"))||[];const{amount:x,type:d}=c;x&&d&&(i.push(c),await v(D(i)),await v(T())),a()};return e.jsxs(p.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:a,className:"bg-[#00000090] z-40 inset-0 fixed flex items-center flex-col justify-center",children:[e.jsxs(p.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n=>n.stopPropagation(),className:"bg-neutral-100 z-20 w-11/12 sm:w-8/12 flex flex-col gap-2 p-8 dark:bg-gray-800 shadow-md rounded-lg justify-center ",children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300  text-center",children:"Add Transaction"}),e.jsxs("form",{onSubmit:N,className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"w-full flex flex-col gap-1",children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 ",children:"Amount"}),e.jsx("input",{name:"amount",onChange:m,type:"number",className:"focus:outline-[#99F6E4] focus:outline-4 focus:outline w-full p-2  rounded",placeholder:"Amount"})]}),e.jsxs("div",{className:"w-full flex flex-col gap-1",children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 ",children:"Description"}),e.jsx("textarea",{rows:"3",placeholder:"Description",name:"desc",className:"focus:outline-[#99F6E4] focus:outline-4 focus:outline w-full p-2 rounded",onChange:m})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("p",{className:"text-xs text-left flex items-center gap-1 text-gray-600 dark:text-gray-300 ",children:[e.jsx(U,{}),"Tags"]}),e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2 text-sm",children:M.map(n=>e.jsx("div",{onClick:()=>I(n),className:`outline  p-1 rounded truncate text-center gap-1 ${r[n]?"bg-teal-100 outline-teal-200":"bg-white outline-teal-100"} `,children:n},n))})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300  ",children:"Count as:"}),e.jsxs("div",{className:"flex flex-col gap-1 text-gray-800 dark:text-neutral-100",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{onChange:m,value:"Income",checked:c.type==="Income",name:"type",type:"radio"}),e.jsx("label",{children:"Income"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{onChange:m,value:"Savings",name:"type",type:"radio"}),e.jsx("label",{children:"Savings"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{onChange:m,value:"Expenses",className:"focus:bg-yellow-200",name:"type",type:"radio"}),e.jsx("label",{children:"Expenses"})]})]}),e.jsxs("div",{className:"mt-4 flex flex-col items-start gap-2",children:[g&&e.jsx("p",{children:g}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{onClick:N,type:"submit",className:" btn text-gray-800 dark:text-neutral-100 bg-neutral-50 dark:bg-gray-900",children:"Add"})})]})]})]})]}),e.jsx("p",{className:"text-neutral-100 text-xs my-4 sm:text-sm",children:"Click anywhere outside to close."})]})}function L({onClose:t}){const a=S(),r=()=>{localStorage.setItem("transactions",JSON.stringify([])),t(),a("/"),window.location.reload()};return e.jsxs(p.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"bg-[#00000090] z-40 fixed inset-0 flex justify-center flex-col items-center",children:[e.jsxs("div",{onClick:l=>l.stopPropagation(),className:"p-5 rounded-lg bg-neutral-100 dark:bg-gray-800 flex flex-col gap-6 w-11/12 sm:w-8/12",children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("p",{className:"text-gray-800 dark:text-neutral-100 text-xs",children:"Reset data"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-neutral-100",children:"Are you sure?"}),e.jsx("p",{className:"text-gray-800 dark:text-neutral-100",children:"This will remove all the data stored in your browser's local storage."}),e.jsxs("p",{className:" flex items-center gap-1 text-gray-800 dark:text-neutral-100 text-xs",children:[e.jsx(E,{}),"This action cannot be undone"]})]}),e.jsx("button",{className:"btn bg-neutral-50 dark:bg-gray-900 text-gray-800 dark:text-neutral-100",onClick:r,children:"Confirm"})]}),e.jsx("p",{className:"text-neutral-100 sm:text-sm text-xs my-4 ",children:"Click anywhere outside to close."})]})}function V(t){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26 5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z"},child:[]}]})(t)}function J(t){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9.37 5.51A7.35 7.35 0 0 0 9.1 7.5c0 4.08 3.32 7.4 7.4 7.4.68 0 1.35-.09 1.99-.27A7.014 7.014 0 0 1 12 19c-3.86 0-7-3.14-7-7 0-2.93 1.81-5.45 4.37-6.49zM12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26 5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z"},child:[]}]})(t)}function W(t){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M20,8 C18.5974037,5.04031171 15.536972,3 12,3 C7.02943725,3 3,7.02943725 3,12 C3,16.9705627 7.02943725,21 12,21 L12,21 C16.9705627,21 21,16.9705627 21,12 M21,3 L21,9 L15,9"},child:[]}]})(t)}function Q(){const[t,a]=u.useState(!1),[r,l]=u.useState(!1),{theme:g}=A(c=>c.theme),f=C();S(),u.useEffect(()=>{t||r?document.body.style.overflow="hidden":document.body.style.overflow=""},[t,r]);const o=c=>{f(O(c)),localStorage.setItem("theme",c)};return e.jsxs(p.div,{className:"w-full flex items-center gap-2 overflow-x-hidden justify-between sm:p-8 p-5 my-5 rounded-lg z-20",children:[e.jsx(w,{children:t&&e.jsx(P,{isOpen:t,onClose:()=>a(!1)})}),e.jsx(w,{children:r&&e.jsx(L,{onClose:()=>l(!1)})}),e.jsx(z,{to:"/",className:"truncate act text-lg sm:text-2xl font-bold px-4 dark:text-neutral-100 tracking-wider italic",children:"Expense Tracker"}),e.jsxs("div",{className:"flex items-center text-xs sm:text-sm  gap-2 sm:gap-4 ",children:[e.jsx("p",{className:"p-2 rounded-lg bg-gradient-to-tr from-blue-100 to-teal-200 text-gray-800 truncate",onClick:()=>a(!0),children:"Add Transaction"}),e.jsx("div",{children:g==="light"?e.jsx(V,{onClick:()=>o("dark"),className:"text-teal-400",size:"18"}):e.jsx(J,{onClick:()=>o("light"),className:"text-teal-400",size:"18"})}),e.jsxs("p",{className:"dark:text-neutral-100 underline flex items-center gap-1",onClick:()=>l(!0),children:[e.jsx(W,{className:"text-gray-800 dark:text-neutral-100"}),"Reset"]})]})]})}export{Q as default};
